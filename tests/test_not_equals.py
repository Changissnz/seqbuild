from desi.not_equals import * 
from morebs2.numerical_generator import prg__LCG

import unittest

### lone file test 
"""
python3 -m tests.test_not_equals
"""
###
class NotEqualsMethods(unittest.TestCase):

    def test__not_equals__pairvec__case1(self):

        lcg_px = prg__LCG(12,3,13,250)

        v1 = np.array([3.0,13.4,26.5])
        v2 = np.array([3.0,113.4,26.5])

        nep = not_equals__pairvec(v1,v2,lcg_px,indices=None)
        assert not np.any(nep[0] == nep[1])

        lcg_px2 = prg__LCG(321,43,117,500)

        cx = set() 
        for _ in range(50): 
            nep2 = not_equals__pairvec(v1,v2,lcg_px2) 
            assert not np.any(nep2[0] == nep2[1])
            cx |= {vector_to_string(nep2[1],float)}

        assert len(cx) == 20 
        assert cx == \
        {'4.009375,114.75437500000001,27.5828125',\
            '4.0108303249097474,114.80938628158846,27.595667870036102', \
            '4.0062893081761,114.63773584905661,27.555555555555557', \
            '4.007125890736342,114.66935866983374,27.56294536817102', \
            '4.024793388429752,115.33719008264464,27.71900826446281', \
            '4.038961038961039,115.87272727272727,27.844155844155843', \
            '4.107142857142858,118.45,28.446428571428573', \
            '4.142857142857142,119.80000000000001,28.761904761904763', \
            '4.007957559681698,114.70079575596817,27.57029177718833', \
            '4.025,115.345,27.720833333333335', \
            '4.0131578947368425,114.89736842105263,27.61622807017544', \
            '4.0234375,115.2859375,27.70703125', \
            '4.013574660633484,114.9131221719457,27.619909502262445', \
            '4.007142857142857,114.67,27.563095238095237', \
            '4.013636363636364,114.91545454545455,27.620454545454546', \
            '4.016949152542373,115.0406779661017,27.649717514124294', \
            '4.007009345794392,114.66495327102804,27.561915887850468', \
            '4.009146341463415,114.74573170731708,27.58079268292683', \
            '4.009345794392523,114.75327102803739,27.582554517133957', \
            '4.15,120.07000000000001,28.825'}
        return 
    

if __name__ == '__main__':
    unittest.main()